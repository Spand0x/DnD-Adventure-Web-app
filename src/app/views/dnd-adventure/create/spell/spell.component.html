<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="row justify-content-center ">
        <div class="card-body col-lg-6 ">
          <h5 class="mb-4 text-center">Spell</h5>
          <form [formGroup]="spellForm" #form="ngForm" (ngSubmit)="onSubmit()" novalidate class="tooltip-center-top">
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" class="form-control" formControlName="name" id="name">
              <div *ngIf="spellForm.get('name').errors?.required && form.submitted" class="invalid-tooltip">Name is required</div>
              <div *ngIf="spellForm.get('name').errors?.minlength && form.submitted" class="invalid-tooltip">Name must contain at least 3 characters!</div>
            </div>
            <div class="form-group">
              <label for="dis-description">Description</label>
              <textarea class="form-control" rows="4" formControlName="description" id="dis-description"></textarea>
              <div *ngIf="spellForm.get('description').errors?.required && form.submitted" class="invalid-tooltip">Description is required!</div>
              <div *ngIf="spellForm.get('description').errors?.minlength && form.submitted" class="invalid-tooltip">Description must contain at least 5
                characters!
              </div>
            </div>
            <div class="form-group">
              <label for="level">Level</label>
              <input type="number" class="form-control" formControlName="level" id="level">
              <div *ngIf="spellForm.get('level').errors?.required && form.submitted" class="invalid-tooltip">Level is required</div>
              <div *ngIf="spellForm.get('level').errors && form.submitted" class="invalid-tooltip">Level should be more or equal to 1</div>
            </div>
            <div class="row">
              <div class="form-group col">
                <label for="damageDice">Damage Dice</label>
                <ng-select [items]="dices" formControlName="damageDice" id="damageDice">
                </ng-select>
                <div *ngIf="spellForm.get('damageDice').errors?.required && form.submitted" class="invalid-tooltip">Damage dice is required</div>
              </div>
              <div class="form-group col">
                <label for="damageModifier">Damage Modifier</label>
                <ng-select [items]="stats" formControlName="damageModifier" id="damageModifier">
                </ng-select>
                <div *ngIf="spellForm.get('damageModifier').errors?.required && form.submitted" class="invalid-tooltip">Damage modifier is required</div>
                <div *ngIf="spellForm.get('damageModifier').errors && form.submitted" class="invalid-tooltip">Invalid Damage modifier.</div>
              </div>
            </div>
            <div class="form-group">
              <label for="hitChanceBonus">Hit Chance Bonus</label>
              <input type="number" class="form-control" formControlName="hitChanceBonus" id="hitChanceBonus">
              <div *ngIf="spellForm.get('hitChanceBonus').errors?.required && form.submitted" class="invalid-tooltip">Hit chance bonus is required</div>
              <div *ngIf="spellForm.get('hitChanceBonus').errors && form.submitted" class="invalid-tooltip">Hit chance bonus should be between 0 and 10</div>
            </div>
            <div class="form-group">
              <label for="maxCharges">Max Charges</label>
              <input type="number" class="form-control" formControlName="maxCharges" id="maxCharges">
              <div *ngIf="spellForm.get('maxCharges').errors?.required && form.submitted" class="invalid-tooltip">Maximum charges is required</div>
              <div *ngIf="spellForm.get('maxCharges').errors && form.submitted" class="invalid-tooltip">Maximum charges should be between 0 and 10</div>
            </div>
            <div class="form-group">
              <label for="effect">Effect</label>
              <input type="text" class="form-control" formControlName="effect" id="effect">
            </div>
            <div class="form-group">
              <label for="notes">Notes</label>
              <input type="text" class="form-control" formControlName="notes" id="notes">
            </div>
            <div class="form-group">
              <label for="range">Range</label>
              <input type="text" class="form-control" formControlName="range" id="range" placeholder="Self/Touch/Ranged 60ft.">
              <div *ngIf="spellForm.get('range').errors?.required && form.submitted" class="invalid-tooltip">Range is required</div>
            </div>
            <div class="form-group">
              <label for="castingType">Casting Type</label>
              <ng-select [items]="castingTypes" formControlName="castingType" id="castingType">
              </ng-select>
              <div *ngIf="spellForm.get('castingType').errors?.required && form.submitted" class="invalid-tooltip">Casting type is required</div>
            </div>
            <div class="form-group">
              <label for="durationType">Duration type</label>
              <ng-select formControlName="durationType"
                         id="durationType"
                         [items]="durationTypes"
                         [(ngModel)]="durationType">
              </ng-select>
              <div *ngIf="spellForm.get('durationType').errors?.required && form.submitted" class="invalid-tooltip">Duration type is required</div>
            </div>
            <div class="row" *ngIf="durationType === 'Time'">
              <div class="form-group col">
                <label for="duration">Duration</label>
                <input type="number" class="form-control" formControlName="duration" id="duration">
              </div>
              <div class="form-group col">
                <label for="durationUnit">Duration Unit</label>
                <ng-select [items]="durationUnits" formControlName="durationUnit" id="durationUnit">
                </ng-select>
              </div>
            </div>
            <div class="d-flex justify-content-end">
              <button class="btn btn-primary" type="submit">Create</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
