<h5 class="mb-4">Create Character</h5>
<div class="card mb-5">
  <div class="card-body">
    <aw-wizard #wizard>

      <aw-wizard-step stepTitle="General" style="min-height: 120px;">
        <ng-template awWizardStepSymbol><i class=" fa-search"></i></ng-template>
        <div class="row justify-content-center">
          <div class="col-lg-8 col-xs-12">
            <form [formGroup]="generalForm" #form="ngForm" (ngSubmit)="goToStepRace()" novalidate class="tooltip-label-right">
              <div class="form-group ">
                <label for="name">Name</label>
                <input type="text" class="form-control" formControlName="name" id="name">
                <div *ngIf="generalForm.get('name').errors?.required && form.submitted" class="invalid-tooltip">Name is required!</div>
              </div>
              <div class="form-group">
                <label for="dis-description">Description</label>
                <textarea class="form-control" rows="4" formControlName="description" id="dis-description"></textarea>
              </div>
              <div class="text-center">
                <button type="submit" class="btn btn-primary">Select Race</button>
              </div>
            </form>
          </div>
        </div>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="Race" style="min-height: 120px;">
        <ng-template awWizardStepSymbol><i class=" fa-search"></i></ng-template>
        <div class="loading" *ngIf="isLoading"></div>
        <div class="row justify-content-center text-center" *ngIf="!isLoading">
          <div class="col-lg-8 col-xs-12">
            <h1>Chose a Race</h1>
            <br>
            <accordion [isAnimated]="true" [closeOthers]="true">
              <accordion-group [panelClass]="'border'" [isOpen]="false"
                               *ngFor="let race of races" (isOpenChange)="setIsExpanded($event, race)">
                <div accordion-heading>
                  <div class="row">
                    <i [class]="'mt-2 simple-icon-arrow-' + (race.isExpanded ? 'down' : 'right')"> </i>
                    <span class="ml-2 mt-1 font-weight-bold">{{race.name.toUpperCase()}}</span>
                    <div class="ml-auto mr-3">
                      <button type="button" class="btn btn-primary btn-shadow p-2" (click)="selectRace(race.uuid)">Select</button>
                    </div>
                  </div>
                </div>
                <div class="text-left">
                  <h5 class="text-left mb-4">{{race.description}}</h5>
                  <div class="separator"></div>
                  <h5 class="mt-4 mb-0">
                    <span class="align-middle border-theme-2 log-indicator"></span>
                    <span *ngIf="race.advantages.length > 0">&nbsp;Advantages</span>
                    <span *ngIf="race.advantages.length === 0">&nbsp;This race has no advantages</span>
                  </h5>
                  <br>
                  <div *ngIf="race.advantages.length > 0">
                    <accordion [isAnimated]="true" [closeOthers]="false">
                      <accordion-group [panelClass]="'border mb-1 border-primary'" [isOpen]="false"
                                       *ngFor="let advantage of race.advantages"
                                       (isOpenChange)="setIsExpanded($event, advantage)">
                        <div accordion-heading>
                          <h6>
                            <i [class]="'mt-2 simple-icon-arrow-' + (advantage.isExpanded ? 'down' : 'right')"></i>
                            {{advantage.name}}
                          </h6>
                        </div>
                        <div>
                          <p class="nav-link">{{advantage.description}}</p>
                        </div>
                      </accordion-group>
                    </accordion>
                  </div>
                  <h5 class="mt-1 mb-0">
                    <span class="align-middle border-theme-2 log-indicator"></span>
                    <span *ngIf="race.disadvantages.length > 0">&nbsp;Disadvantages</span>
                    <span *ngIf="race.disadvantages.length === 0">&nbsp;This race has no disadvantages</span>
                  </h5>
                  <br>
                  <div *ngIf="race.disadvantages.length > 0">
                    <accordion [isAnimated]="true" [closeOthers]="false">
                      <accordion-group [panelClass]="'border mb-1 border-primary'" [isOpen]="false"
                                       *ngFor="let disadvantages of race.disadvantages"
                                       (isOpenChange)="setIsExpanded($event, disadvantages)">
                        <div accordion-heading>
                          <h6>
                            <i [class]="'mt-2 simple-icon-arrow-' + (disadvantages.isExpanded ? 'down' : 'right')"> </i>
                            {{disadvantages.name}}
                          </h6>
                        </div>
                        <div>
                          <p class="nav-link">{{disadvantages.description}}</p>
                        </div>
                      </accordion-group>
                    </accordion>
                  </div>
                  <div class="separator mb-2 mt-2"></div>
                  <h5>Race modifiers</h5>
                  <table class="table">
                    <thead>
                    <tr>
                      <th scope="col">Stat Type</th>
                      <th scope="col">Stat Value</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let modifier of race.modifiers">
                      <td>{{modifier.name}}</td>
                      <td>{{modifier.value > 0 ? '+' : ''}}{{modifier.value}}</td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </accordion-group>
            </accordion>
          </div>
        </div>
        <div class="row justify-content-center mt-2">
          <div class="col-lg-8 col-xs-12">
            <button type="button" class="btn btn-primary" awPreviousStep>Back</button>
          </div>
        </div>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="Class" style="min-height: 120px;">
        <ng-template awWizardStepSymbol><i class=" fa-search"></i></ng-template>
        <div class="loading" *ngIf="isLoading"></div>
        <div class="row justify-content-center text-center">
          <div class="col-lg-8 col-xs-12" *ngIf="!isLoading">
            <h1>Chose Class</h1>
            <br>
            <accordion [isAnimated]="true" [closeOthers]="true">
              <accordion-group [panelClass]="'border'" [isOpen]="false"
                               *ngFor="let charClass of classes" (isOpenChange)="setIsExpanded($event, charClass)">
                <div accordion-heading>
                  <div class="row">
                    <i [class]="'mt-2 simple-icon-arrow-' + (charClass.isExpanded ? 'down' : 'right')"> </i>
                    <span class="ml-2 mt-1 font-weight-bold">{{charClass.name.toUpperCase()}}</span>
                    <div class="ml-auto mr-3">
                      <button type="button" class="btn btn-primary btn-shadow p-2" (click)="selectClass(charClass.uuid)">Select</button>
                    </div>
                  </div>
                </div>
                <div class="text-left">
                  <h5 class="text-left mb-4">{{charClass.description}}</h5>
                </div>
                <div class="separator"></div>
                <div class="mb-3 mt-3 text-left">
                  <p><strong>Hit Dice:</strong>&nbsp;1{{charClass.hitPointsDice}} per level<br>
                    <strong>Hit Dice at 1st Level:</strong>&nbsp;{{hitPointsDiceNumber(charClass)}} + your Constitution modifier<br>
                    <strong>Hit Dice at Higher Levels:</strong>&nbsp;1{{charClass.hitPointsDice}} (or 5) + your Constitution modifier per level after 1st</p>
                </div>
                <div class="separator"></div>
                <div class="mb-5 mt-3 text-left">
                  <p><strong>Saving Throw Stat:</strong>&nbsp;{{charClass.savingThrowStat}}</p>
                </div>
              </accordion-group>
            </accordion>
          </div>
        </div>
        <div class="row justify-content-center mt-2">
          <div class="col-lg-8 col-xs-12">
            <button type="button" class="btn btn-primary" awPreviousStep>Back</button>
          </div>
        </div>
      </aw-wizard-step>

      <aw-wizard-step stepTitle="Stats" style="min-height: 120px;">
        <ng-template awWizardStepSymbol><i class=" fa-search"></i></ng-template>
        <div class="row justify-content-center text-center">
          <div class="col-lg-8 col-xs-12">
            <h1>Stats Score</h1>
            <form [formGroup]="statsForm" #form="ngForm" (ngSubmit)="submit()" novalidate>
              <div class="row mb-2 mt-2">
                <div class="col font-weight-bold" *ngFor="let stat of stats">{{stat}}</div>
              </div>
              <div class="separator"></div>
              <div class="row mb-2 mt-2">
                <div class="col ml-1 mr-0 pl-0 pr-0" *ngFor="let stat of stats">
                  <input
                    class="form-control border-primary"
                    [formControlName]="stat.toLowerCase()"
                    [id]="stat.toLowerCase()"
                    type="number"/>
                    <h6 class="mt-1 font-weight-bold">{{selectedRaceModifiers[stat.toLowerCase()]}}</h6>
                </div>
              </div>
              <div class="row mt-2 mb-2 ml-2" *ngIf="statsForm.invalid && statsFormSubmitted">
                <h5 class="text-danger">Every stat should be between 3 and 18</h5>
              </div>
              <div class="row mb-2 justify-content-end">
                <button class="btn btn-primary"
                        type="submit">Submit
                </button>
              </div>
            </form>
            <div class="separator mt-3 mb-3"></div>
            <h3 class="font-weight-bold">Dice Roll</h3>
            <div class="row">
              <h1 class="col font-weight-bold" [id]="i" *ngFor="let i of [0,1,2,3,4,5]">{{diceRollsResult[i] ? diceRollsResult[i] : '-&nbsp;-'}}</h1>
            </div>
            <div class="row mb-3" *ngIf="diceRollsResult.length === 6">
              <ng-select class="col pl-1 pr-1"
                         *ngFor="let i of [0,1,2,3,4,5]"
                         [items]="statsDropdown[i]"
                         (change)="selectStat()"
                         [(ngModel)]="selectedStats[i]"></ng-select>
            </div>
            <div class="row justify-content-end ml-1 mt-2" *ngIf="selectedStats.length === 6">
              <button class="col col-lg-2 btn btn-primary"
                      type="button"
                      (click)="applyStats()">Apply Stats
              </button>
            </div>
            <div *ngIf="diceRollsResult.length !== 6" class="row justify-content-center">
              <button class="col col-lg-3 btn btn-primary ml-1"
                      type="button"
                      (click)="rollDice()"
                      [disabled]="diceRollsResult.length === 6">Roll Dice
              </button>
            </div>
          </div>
        </div>
      </aw-wizard-step>


      <!--      <aw-wizard-step stepTitle="Step 2" style="min-height: 120px;">-->
      <!--        <form #formStep2="ngForm" novalidate>-->
      <!--          <div class="form-group tooltip-left-bottom">-->
      <!--            <label>{{ 'forms.email' | translate }}</label>-->
      <!--            <input type="text" class="form-control" name="email" ngModel required #email="ngModel" email>-->
      <!--            <div *ngIf="email?.errors?.required && formStep2.submitted" class="invalid-tooltip">Email is required!</div>-->
      <!--            <div *ngIf="email?.errors?.email && formStep2.submitted" class="invalid-tooltip">Email must be a valid address!</div>-->
      <!--          </div>-->
      <!--        </form>-->
      <!--        <div class="text-center">-->
      <!--          <button type="button" class="btn btn-primary" awPreviousStep>{{ 'wizard.prev' | translate }}</button>{{" "}}-->
      <!--          <button type="button" class="btn btn-primary" (click)="onNextStep2()">{{ 'wizard.next' | translate }}</button>-->
      <!--        </div>-->
      <!--      </aw-wizard-step>-->

      <!--      <aw-wizard-step stepTitle="Step 3" style="min-height: 120px;">-->
      <!--        <form #formStep3="ngForm" novalidate>-->
      <!--          <div class="form-group tooltip-left-bottom">-->
      <!--            <label>{{ 'forms.password' | translate }}</label>-->
      <!--            <input type="password" class="form-control" name="password" ngModel required #password="ngModel" minlength="8"-->
      <!--                   pattern="([A-Za-z]+[0-9]|[0-9]+[A-Za-z])[A-Za-z0-9]*">-->
      <!--            <div *ngIf="password?.errors?.required && formStep3.submitted" class="invalid-tooltip">Password is required!-->
      <!--            </div>-->
      <!--            <div *ngIf="password?.errors?.pattern && formStep3.submitted" class="invalid-tooltip">Paswsword must contain at-->
      <!--              least a letter and a number!</div>-->
      <!--            <div *ngIf="!password?.errors?.pattern && password?.errors?.minlength && formStep3.submitted"-->
      <!--                 class="invalid-tooltip">Paswsword must contain at least 8 characters!</div>-->
      <!--          </div>-->
      <!--        </form>-->
      <!--        <div class="text-center">-->
      <!--          <button type="button" class="btn btn-primary" awPreviousStep>{{ 'wizard.prev' | translate }}</button>{{" "}}-->
      <!--          <button type="button" class="btn btn-primary" (click)="onNextStep3()">{{ 'wizard.next' | translate }}</button>-->
      <!--        </div>-->
      <!--      </aw-wizard-step>-->

      <aw-wizard-completion-step stepTitle="{{ 'wizard.done' | translate }}" style="min-height: 120px;">
        <div class="text-center complete-message-centered">
          <!--          <div *ngIf="posting">-->
          <!--            <div class="spinner-border text-primary" role="status">-->
          <!--            </div>-->
          <!--            <div class="mt-3">{{ 'wizard.saving' | translate }}</div>-->
          <!--          </div>-->
          <!--          <div *ngIf="!posting">-->
          <h2 class="mb-2">{{ 'wizard.content-thanks' | translate }}</h2>
          <p>{{ 'wizard.registered' | translate }}</p>
          <!--          </div>-->
        </div>
      </aw-wizard-completion-step>

    </aw-wizard>
  </div>
</div>
